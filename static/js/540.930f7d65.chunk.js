/*! For license information please see 540.930f7d65.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcloudtune=self.webpackChunkcloudtune||[]).push([[540],{2919:(e,t,s)=>{s.d(t,{wx:()=>n});var r=s(5043),a=s(8163),l=s(8270);const n=()=>{const e=(0,a.zy)();(0,r.useEffect)(()=>{const e=document.querySelector(".page-transition");e&&l.Ay.fromTo(e,{opacity:0,y:20},{opacity:1,y:0,duration:.5,ease:"power2.out",clearProps:"all"})},[e.pathname])}},4540:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var r=s(5043),a=s(8163),l=s(5088),n=s(4830),o=s(9292),c=s(4919),i=s(614),d=s(9148),u=s(7881),x=s(2919),h=s(5332),m=s(579);function g(){const e=(0,a.Zp)(),{playItem:t}=(0,d.F)(),{search:s,getTrending:n}=(0,u.J)(),[g,f]=(0,r.useState)(""),[v,j]=(0,r.useState)([]),[b,N]=(0,r.useState)([]),[w,k]=(0,r.useState)([]),[S,C]=(0,r.useState)(!1),[A,z]=(0,r.useState)(!1),P=(0,r.useRef)(null),T=(0,r.useRef)(null);(0,x.wx)(),(0,r.useEffect)(()=>{var e;const t=localStorage.getItem("recentSearches");t&&N(JSON.parse(t)),E(),null===(e=P.current)||void 0===e||e.focus()},[]);const E=async()=>{try{const e=await n(10);k(e)}catch(e){console.error("Error loading trending:",e)}},q=async e=>{if(!e.trim())return j([]),void z(!1);C(!0),z(!0);try{const t=await s(e,20);j(t);const r=[e,...b.filter(t=>t!==e)].slice(0,10);N(r),localStorage.setItem("recentSearches",JSON.stringify(r))}catch(t){console.error("Search error:",t)}finally{C(!1)}};return(0,m.jsx)("div",{className:"min-h-screen p-6 md:p-8",children:(0,m.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,m.jsx)("div",{className:"mb-8",children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(o.A,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,m.jsx)("input",{ref:P,type:"text",value:g,onChange:e=>{const t=e.target.value;f(t),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{q(t)},500)},placeholder:"\xbfQu\xe9 quieres escuchar?",className:"w-full h-14 pl-12 pr-12 bg-white/10 backdrop-blur-xl rounded-full border-2 border-white/10 focus:border-green-500 focus:outline-none text-white placeholder-gray-400 transition-all"}),g&&(0,m.jsx)("button",{onClick:()=>{var e;f(""),j([]),z(!1),null===(e=P.current)||void 0===e||e.focus()},className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:(0,m.jsx)(i.A,{size:20})})]})}),S&&(0,m.jsx)(h.O0,{type:"row",count:8}),A&&!S&&(0,m.jsx)(h.tt,{delay:.1,children:(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsx)("h2",{className:"text-2xl font-bold mb-4",children:v.length>0?"".concat(v.length," resultados"):"Sin resultados"}),(0,m.jsx)(h.JX,{staggerDelay:.05,children:(0,m.jsx)("div",{className:"grid grid-cols-1 gap-2",children:v.map(s=>(0,m.jsx)(p,{track:s,onPlay:()=>t(s,v),onArtistClick:()=>{var t;null!==(t=s.artist)&&void 0!==t&&t.id&&e("/artist/".concat(s.artist.id))}},s.id))})})]})}),!A&&b.length>0&&(0,m.jsx)(h._4,{direction:"up",delay:.2,children:(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,m.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,m.jsx)(l.A,{size:20,className:"text-green-500"}),"B\xfasquedas recientes"]}),(0,m.jsx)("button",{onClick:()=>{N([]),localStorage.removeItem("recentSearches")},className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Limpiar"})]}),(0,m.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map((e,t)=>(0,m.jsx)("button",{onClick:()=>{f(e),q(e)},className:"px-4 py-2 bg-white/5 hover:bg-white/10 rounded-full text-sm transition-colors",children:e},t))})]})}),!A&&w.length>0&&(0,m.jsx)(h.tt,{delay:.3,children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,m.jsx)(c.A,{size:20,className:"text-green-500"}),"Tendencias"]}),(0,m.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w.map(s=>(0,m.jsx)(y,{track:s,onPlay:()=>t(s,w),onClick:()=>{var t;null!==(t=s.artist)&&void 0!==t&&t.id&&e("/artist/".concat(s.artist.id))}},s.id))})]})})]})})}function p(e){let{track:t,onPlay:s,onArtistClick:r}=e;return(0,m.jsxs)("div",{className:"group flex items-center gap-4 p-3 rounded-lg hover:bg-white/5 transition-colors cursor-pointer",children:[(0,m.jsxs)("button",{onClick:s,className:"relative flex-shrink-0",children:[(0,m.jsx)("img",{src:t.image||t.cover,alt:t.title,className:"w-14 h-14 rounded object-cover",onError:e=>e.target.style.display="none"}),(0,m.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded",children:(0,m.jsx)(n.A,{size:20,className:"text-white",fill:"currentColor"})})]}),(0,m.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,m.jsx)("p",{className:"font-semibold truncate",children:t.title}),(0,m.jsx)("button",{onClick:r,className:"text-sm text-gray-400 hover:text-white hover:underline transition-colors truncate block",children:t.artist})]}),(0,m.jsx)("div",{className:"text-sm text-gray-400 tabular-nums",children:f(t.duration)})]})}function y(e){let{track:t,onPlay:s,onClick:r}=e;return(0,m.jsxs)("div",{className:"group cursor-pointer",onClick:r,children:[(0,m.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden mb-3 bg-gray-800 shadow-md",children:[(0,m.jsx)("img",{src:t.image||t.cover,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:e=>e.target.style.display="none"}),(0,m.jsx)("button",{onClick:e=>{e.stopPropagation(),s()},className:"absolute bottom-2 right-2 w-10 h-10 bg-green-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all shadow-xl hover:scale-110",children:(0,m.jsx)(n.A,{size:16,className:"text-black ml-0.5",fill:"currentColor"})})]}),(0,m.jsx)("h3",{className:"font-semibold text-sm mb-1 truncate group-hover:text-green-500 transition-colors",children:t.title}),(0,m.jsx)("p",{className:"text-xs text-gray-400 truncate",children:t.artist})]})}function f(e){if(!e)return"0:00";const t=Math.floor(e/60),s=Math.floor(e%60);return"".concat(t,":").concat(s.toString().padStart(2,"0"))}},4919:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(1639).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5088:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(1639).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])}}]);
//# sourceMappingURL=540.930f7d65.chunk.js.map