{"version":3,"file":"static/js/381.2ded19bb.chunk.js","mappings":"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","sources":["components/shared/Auth.js","../node_modules/lucide-react/src/icons/mail.ts","../node_modules/lucide-react/src/icons/lock.ts"],"sourcesContent":["import React, { useState } from 'react';\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport { auth } from '../../firebase';\nimport { Music, Mail, Lock, User } from 'lucide-react';\n\nconst AuthContent = ({ onAuthSuccess }) => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: ''\n  });\n\n  // Helper: Generate avatar URL based on name\n  const generateAvatarUrl = (name) => {\n    return `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=6366f1&color=fff&bold=true`;\n  };\n\n  // Email validation\n  const isValidEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  // Form validation\n  const validateForm = () => {\n    if (!formData.email || !formData.password) {\n      setError('Por favor, completa todos los campos');\n      return false;\n    }\n\n    if (!isValidEmail(formData.email)) {\n      setError('Por favor, ingresa un email válido');\n      return false;\n    }\n\n    if (formData.password.length < 6) {\n      setError('La contraseña debe tener al menos 6 caracteres');\n      return false;\n    }\n\n    if (!isLogin && !formData.name) {\n      setError('Por favor, ingresa tu nombre');\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    setError(null);\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    if (!validateForm()) return;\n\n    setLoading(true);\n    try {\n      await signInWithEmailAndPassword(auth, formData.email, formData.password);\n      onAuthSuccess();\n    } catch (err) {\n      if (err.code === 'auth/user-not-found') {\n        setError('Usuario no encontrado');\n      } else if (err.code === 'auth/wrong-password') {\n        setError('Contraseña incorrecta');\n      } else if (err.code === 'auth/invalid-email') {\n        setError('Email inválido');\n      } else {\n        setError('Error al iniciar sesión: ' + (err.message || 'Error desconocido'));\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    if (!validateForm()) return;\n\n    setLoading(true);\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, formData.email, formData.password);\n      const user = userCredential.user;\n\n      // Generate and set avatar URL based on name\n      const avatarUrl = generateAvatarUrl(formData.name);\n\n      // Update user profile with name and photo\n      await updateProfile(user, {\n        displayName: formData.name,\n        photoURL: avatarUrl\n      });\n\n      onAuthSuccess();\n    } catch (err) {\n      if (err.code === 'auth/email-already-in-use') {\n        setError('Este email ya está registrado');\n      } else if (err.code === 'auth/weak-password') {\n        setError('La contraseña es muy débil');\n      } else if (err.code === 'auth/invalid-email') {\n        setError('Email inválido');\n      } else {\n        setError('Error al registrarse: ' + (err.message || 'Error desconocido'));\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo and Title */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"w-16 h-16 bg-gradient-to-tr from-pink-500 to-violet-600 rounded-full flex items-center justify-center shadow-xl\">\n              <Music size={32} className=\"text-white\" />\n            </div>\n          </div>\n          <h1 className=\"text-4xl font-bold text-white mb-2\">CloudTune</h1>\n          <p className=\"text-slate-400\">Tu plataforma de música en la nube</p>\n        </div>\n\n        {/* Auth Card */}\n        <div className=\"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl\">\n          <h2 className=\"text-2xl font-bold text-white mb-8 text-center\">\n            {isLogin ? 'Inicia Sesión' : 'Crear Cuenta'}\n          </h2>\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm\">\n              {error}\n            </div>\n          )}\n\n          {/* Form */}\n          <form onSubmit={isLogin ? handleLogin : handleRegister} className=\"space-y-4\">\n            {/* Name Field (Register only) */}\n            {!isLogin && (\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Nombre</label>\n                <div className=\"relative\">\n                  <User size={18} className=\"absolute left-3 top-3 text-slate-500\" />\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    placeholder=\"Tu nombre completo\"\n                    value={formData.name}\n                    onChange={handleInputChange}\n                    disabled={loading}\n                    className=\"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 disabled:opacity-50\"\n                  />\n                </div>\n              </div>\n            )}\n\n            {/* Email Field */}\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Email</label>\n              <div className=\"relative\">\n                <Mail size={18} className=\"absolute left-3 top-3 text-slate-500\" />\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"tu@email.com\"\n                  value={formData.email}\n                  onChange={handleInputChange}\n                  disabled={loading}\n                  className=\"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 disabled:opacity-50\"\n                />\n              </div>\n            </div>\n\n            {/* Password Field */}\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Contraseña</label>\n              <div className=\"relative\">\n                <Lock size={18} className=\"absolute left-3 top-3 text-slate-500\" />\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Mínimo 6 caracteres\"\n                  value={formData.password}\n                  onChange={handleInputChange}\n                  disabled={loading}\n                  className=\"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 disabled:opacity-50\"\n                />\n              </div>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full py-2 mt-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n            >\n              {loading ? (\n                <>\n                  <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n                  <span>Autenticando...</span>\n                </>\n              ) : isLogin ? (\n                'Iniciar Sesión'\n              ) : (\n                'Crear Cuenta'\n              )}\n            </button>\n          </form>\n\n          {/* Toggle Auth Mode */}\n          <div className=\"mt-6 pt-6 border-t border-slate-700/50 text-center\">\n            <p className=\"text-slate-400 text-sm\">\n              {isLogin ? '¿No tienes cuenta?' : '¿Ya tienes cuenta?'}{' '}\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setIsLogin(!isLogin);\n                  setError(null);\n                  setFormData({ name: '', email: '', password: '' });\n                }}\n                disabled={loading}\n                className=\"text-purple-400 hover:text-purple-300 font-medium transition-colors disabled:opacity-50\"\n              >\n                {isLogin ? 'Regístrate aquí' : 'Inicia sesión aquí'}\n              </button>\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"mt-8 text-center text-xs text-slate-500\">\n          <p>Al continuar, aceptas los términos de servicio y la política de privacidad</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Auth = ({ onAuthSuccess }) => {\n  return <AuthContent onAuthSuccess={onAuthSuccess} />;\n};\n\nexport default Auth;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHg9IjIiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Im0yMiA3LTguOTcgNS43YTEuOTQgMS45NCAwIDAgMS0yLjA2IDBMMiA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('Mail', [\n  ['rect', { width: '20', height: '16', x: '2', y: '4', rx: '2', key: '18n3k1' }],\n  ['path', { d: 'm22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7', key: '1ocrg3' }],\n]);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('Lock', [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n]);\n\nexport default Lock;\n"],"names":["AuthContent","_ref","onAuthSuccess","isLogin","setIsLogin","useState","loading","setLoading","error","setError","formData","setFormData","name","email","password","validateForm","test","length","handleInputChange","e","value","target","prev","_objectSpread","_jsx","className","children","_jsxs","Music","size","onSubmit","async","preventDefault","signInWithEmailAndPassword","auth","err","code","message","user","createUserWithEmailAndPassword","avatarUrl","concat","encodeURIComponent","updateProfile","displayName","photoURL","User","type","placeholder","onChange","disabled","Mail","Lock","_Fragment","onClick","_ref2","createLucideIcon","width","height","x","y","rx","key","d","ry"],"ignoreList":[],"sourceRoot":""}